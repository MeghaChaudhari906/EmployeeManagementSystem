<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Employee - Employee Management System</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <h1>Add New Employee</h1>
        <p>Register a new employee in the system</p>
      </header>

      <!-- Navigation -->
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="add-employee.html">Add Employee</a>
        <a href="showAllEmp">View All Employees</a>
        <a href="ForID.html">Search Employee</a>
      </nav>

      <!-- Main Content -->
      <main class="card">
        <h2>Employee Registration Form</h2>

        <form action="insertEmployee" method="post" id="employeeForm">
          <input type="hidden" name="action" value="add" />

          <div class="form-group">
            <label for="empName">Full Name *</label>
            <input
              type="text"
              id="empName"
              name="empName"
              required
              placeholder="Enter employee's full name"
              maxlength="100"
            />
          </div>

          <div class="form-group">
            <label for="email">Email Address *</label>
            <input
              type="email"
              id="email"
              name="email"
              required
              placeholder="Enter email address"
              maxlength="100"
            />
          </div>

          <div class="form-group">
            <label for="phone">Phone Number *</label>
            <input
              type="tel"
              id="phone"
              name="phone"
              required
              placeholder="Enter phone number"
              maxlength="15"
              pattern="[0-9]{10,15}"
            />
          </div>

          <div class="form-group">
            <label for="department">Department *</label>
            <select id="department" name="department" required>
              <option value="">-- Select Department --</option>
              <option value="IT">Information Technology</option>
              <option value="HR">Human Resources</option>
              <option value="Finance">Finance</option>
              <option value="Marketing">Marketing</option>
              <option value="Operations">Operations</option>
              <option value="Sales">Sales</option>
              <option value="Support">Customer Support</option>
              <option value="Admin">Administration</option>
            </select>
          </div>

          <div class="form-group">
            <label for="salary">Monthly Salary *</label>
            <input
              type="number"
              id="salary"
              name="salary"
              required
              placeholder="Enter monthly salary"
              min="10000"
              max="1000000"
              step="0.01"
            />
          </div>

          <div style="text-align: center; margin-top: 30px">
            <button type="submit" class="btn btn-success">Add Employee</button>
            <button type="reset" class="btn btn-warning">Clear Form</button>
            <a href="index.html" class="btn btn-warning">Cancel</a>
          </div>
        </form>
      </main>

      <!-- Footer -->
      <footer class="footer">
        <p>
          &copy; 2024 Employee Management System. Built with Java, Servlets,
          JSP, and Oracle Database.
        </p>
      </footer>
    </div>

    <script>
      // Form validation
      document
        .getElementById("employeeForm")
        .addEventListener("submit", function (e) {
          const name = document.getElementById("empName").value.trim();
          const email = document.getElementById("email").value.trim();
          const phone = document.getElementById("phone").value.trim();
          const department = document.getElementById("department").value;
          const salary = document.getElementById("salary").value;

          if (!name || !email || !phone || !department || !salary) {
            alert("Please fill in all required fields.");
            e.preventDefault();
            return false;
          }

          if (salary < 10000) {
            alert("Salary must be at least â‚¹10,000.");
            e.preventDefault();
            return false;
          }

          // Phone number validation
          const phonePattern = /^[0-9]{10,15}$/;
          if (!phonePattern.test(phone)) {
            alert("Please enter a valid phone number (10-15 digits).");
            e.preventDefault();
            return false;
          }

          return true;
        });

      // Clear form validation
      document
        .querySelector('button[type="reset"]')
        .addEventListener("click", function (e) {
          if (confirm("Are you sure you want to clear all fields?")) {
            return true;
          } else {
            e.preventDefault();
            return false;
          }
        });
    </script>
  </body>
</html>
